export default function initMemory (rom) {
  const mem = new Uint8Array(0xFFF)
  const fonts = [
    0xF0, 0x90, 0x90, 0x90, 0xF0, // '0' at 0x00
    0x20, 0x60, 0x20, 0x20, 0x70, // '1' at 0x05
    0xF0, 0x10, 0xF0, 0x80, 0xF0, // '2' at 0x0A
    0xF0, 0x10, 0xF0, 0x10, 0xF0, // '3' at 0x0F
    0x90, 0x90, 0xF0, 0x10, 0x10, // '4' at 0x14
    0xF0, 0x80, 0xF0, 0x10, 0xF0, // '5' at 0x19
    0xF0, 0x80, 0xF0, 0x90, 0xF0, // '6' at 0x1E
    0xF0, 0x10, 0x20, 0x40, 0x40, // '7' at 0x23
    0xF0, 0x90, 0xF0, 0x90, 0xF0, // '8' at 0x28
    0xF0, 0x90, 0xF0, 0x10, 0xF0, // '9' at 0x2D
    0xF0, 0x90, 0xF0, 0x90, 0x90, // 'A' at 0x32
    0xE0, 0x90, 0xE0, 0x90, 0xE0, // 'B' at 0x37
    0xF0, 0x80, 0x80, 0x80, 0xF0, // 'C' at 0x3C
    0xE0, 0x90, 0x90, 0x90, 0xE0, // 'D' at 0x41
    0xF0, 0x80, 0xF0, 0x80, 0xF0, // 'E' at 0x46
    0xF0, 0x80, 0xF0, 0x80, 0x80  // 'F' at 0x4B
  ]

  rom.forEach((b, i) => {
    mem[i + 0x200] = b
  })
  fonts.forEach((b, i) => {
    mem[i] = b
  })
  return mem
}
